"use strict";var w=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var o=(e,r)=>w(e,"name",{value:r,configurable:!0});var g=(e,r)=>{for(var s in r)w(e,s,{get:r[s],enumerable:!0})},l=(e,r,s,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of x(r))!L.call(e,t)&&t!==s&&w(e,t,{get:()=>r[t],enumerable:!(i=E(r,t))||i.enumerable});return e};var A=e=>l(w({},"__esModule",{value:!0}),e);var R={};g(R,{UNSAFE_ALLOW_ANY_ORIGIN:()=>I,callParentMethod:()=>N,isInIframe:()=>_,isOriginAllowed:()=>v,processOverrideHandler:()=>O});module.exports=A(R);var a=require("uuid");var f=class f extends Error{constructor(r){super(r),this.name="CosmiframeTimeoutError"}};o(f,"CosmiframeTimeoutError");var m=f;var I="UNSAFE_ALLOW_ANY_ORIGIN",N=o((e,r,s)=>new Promise((i,t)=>{let u=null,d=(0,a.v4)(),p=o(({origin:n,source:y,data:c})=>{!v(r,n)||y!==window.parent||c.id!==d||(window.removeEventListener("message",p),u!==null&&clearTimeout(u),c.type==="success"?i({result:c.response,origin:n}):t(new Error(c.error)))},"listener");window.addEventListener("message",p);try{let n={...e,id:d};window.parent.postMessage(n,"*")}catch(n){window.removeEventListener("message",p),t(n)}s&&(u=setTimeout(()=>{window.removeEventListener("message",p),t(new m(`Timed out after ${s}ms waiting for parent to respond.`))},s))}),"callParentMethod"),O=o(e=>{if(!e||e.type==="error")return{type:"error",error:e&&e.type==="error"&&e.error||"Handled by outer wallet."};if(e.type==="success")return{type:"success",response:e.value}},"processOverrideHandler"),_=o(()=>typeof window<"u"&&window.self!==window.parent,"isInIframe"),v=o((e,r)=>e.some(s=>s==="*"||typeof s=="string"&&r===s||s instanceof RegExp&&s.test(r)),"isOriginAllowed");0&&(module.exports={UNSAFE_ALLOW_ANY_ORIGIN,callParentMethod,isInIframe,isOriginAllowed,processOverrideHandler});
//# sourceMappingURL=utils.js.map